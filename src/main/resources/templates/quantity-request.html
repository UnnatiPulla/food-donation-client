<!DOCTYPE html>
<html>
<head>
    <meta charset="ISO-8859-1">
    <title>Request Food Listing</title>
    <link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" rel="stylesheet">
</head>
<body>
    <div class="container">
        <h1>Request Food Listing</h1>

        <div>
            <h3>Listing Details:</h3>
            <p><strong>Food Type:</strong> <span th:text="${foodType}"></span></p>
            <p><strong>Quantity:</strong> <span th:text="${quantityListed}"></span></p>
            <p><strong>Earliest Pickup Time:</strong> <span th:text="${formattedPickUpTime}"></span></p>
            <p><strong>Location:</strong> <span th:text="${latitude + ', ' + longitude}"></span></p>
        </div>

        <!-- Form to submit the food request -->
        <form action="/submit-request" method="post">
            <input type="hidden" name="listingId" th:value="${listingId}" />
            <div class="form-group">
                <label for="quantityRequested">Quantity to Request:</label>
                <input type="number" class="form-control" id="quantityRequested" name="quantityRequested" required />
            </div>

            <!-- We also pass lat/long so that we can navigate back to the original search. -->
            <input type="hidden" name="latitude" th:value="${latitude}" />
            <input type="hidden" name="longitude" th:value="${longitude}" />
            <button type="submit" class="btn btn-primary">Submit Request</button>
        </form>

        <form action="/search-results" method="get">
            <input type="hidden" name="latitude" th:value="${latitude}" />
            <input type="hidden" name="longitude" th:value="${longitude}" />
            <button type="submit" class="btn btn-success">Back to Search</button>
        </form>
    </div>
</body>
</html>
